<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="493.65372mm"
   height="232.04976mm"
   viewBox="0 0 493.65372 232.04976"
   version="1.1"
   id="svg5"
   sodipodi:docname="streamMediaAuthentication.svg"
   inkscape:version="1.1 (c68e22c387, 2021-05-23)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview7"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:pageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:snap-nodes="true"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:zoom="0.61398732"
     inkscape:cx="1061.0968"
     inkscape:cy="529.32689"
     inkscape:window-width="1920"
     inkscape:window-height="1017"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer1">
    <inkscape:grid
       type="xygrid"
       id="grid103688"
       originx="151.67222"
       originy="-24.224257" />
  </sodipodi:namedview>
  <defs
     id="defs2">
    <marker
       style="overflow:visible"
       id="Arrow1Send"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Send"
       inkscape:isstock="true">
      <path
         transform="matrix(-0.2,0,0,-0.2,-1.2,0)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path57008" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285" />
    </marker>
    <marker
       style="overflow:visible"
       id="DiamondSstart"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="DiamondSstart"
       inkscape:isstock="true">
      <path
         transform="matrix(0.2,0,0,0.2,1.2,0)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 0,-7.0710768 -7.0710894,0 0,7.0710589 7.0710462,0 Z"
         id="path57087" />
    </marker>
    <marker
       style="overflow:visible"
       id="Arrow2Mend"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57020" />
    </marker>
    <marker
       style="overflow:visible"
       id="Arrow2Lend"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Lend"
       inkscape:isstock="true">
      <path
         transform="matrix(-1.1,0,0,-1.1,-1.1,0)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57014" />
    </marker>
    <marker
       style="overflow:visible"
       id="Arrow1Lstart"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow1Lstart"
       inkscape:isstock="true">
      <path
         transform="matrix(0.8,0,0,0.8,10,0)"
         style="fill:context-stroke;fill-rule:evenodd;stroke:context-stroke;stroke-width:1pt"
         d="M 0,0 5,-5 -12.5,0 5,5 Z"
         id="path56993" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287-3"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285-0" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287-3-0"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285-0-1" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287-6"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285-00" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287-2"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285-7" />
    </marker>
    <marker
       style="overflow:visible"
       id="marker57287-7"
       refX="0"
       refY="0"
       orient="auto"
       inkscape:stockid="Arrow2Mend"
       inkscape:isstock="true">
      <path
         transform="scale(-0.6)"
         d="M 8.7185878,4.0337352 -2.2072895,0.01601326 8.7185884,-4.0017078 c -1.7454984,2.3720609 -1.7354408,5.6174519 -6e-7,8.035443 z"
         style="fill:context-stroke;fill-rule:evenodd;stroke-width:0.625;stroke-linejoin:round"
         id="path57285-4" />
    </marker>
  </defs>
  <g
     inkscape:label="图层 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(151.67222,-24.224257)">
    <rect
       style="fill:#00a4ff;fill-opacity:1;stroke:#00a0ff;stroke-width:0.565207;stroke-miterlimit:4;stroke-dasharray:none"
       id="rect846-6"
       width="187.33516"
       height="36.154667"
       x="21.859802"
       y="83.067078" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="83.104935"
       y="98.495567"
       id="text9416"><tspan
         sodipodi:role="line"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="83.104935"
         y="98.495567"
         id="tspan78584">流媒体服务</tspan><tspan
         sodipodi:role="line"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="83.104935"
         y="111.99123"
         id="tspan84598">ZLMediaKit</tspan><tspan
         sodipodi:role="line"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="83.104935"
         y="125.22036"
         id="tspan12466" /></text>
    <rect
       style="fill:#00a4ff;fill-opacity:1;stroke:#00a0ff;stroke-width:0.360245;stroke-miterlimit:4;stroke-dasharray:none"
       id="rect846-6-6"
       width="75.673706"
       height="36.359631"
       x="266.12766"
       y="82.9646" />
    <rect
       style="fill:#00a4ff;fill-opacity:1;stroke:#00a0ff;stroke-width:0.570241;stroke-miterlimit:4;stroke-dasharray:none"
       id="rect846-6-6-9"
       width="190.71425"
       height="36.149632"
       x="21.86232"
       y="212.80608" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="89.707581"
       y="235.88448"
       id="text29650"><tspan
         sodipodi:role="line"
         id="tspan29648"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="89.707581"
         y="235.88448">tds.exe</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="289.33151"
       y="105.95152"
       id="text33452"><tspan
         sodipodi:role="line"
         id="tspan33450"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="289.33151"
         y="105.95152">摄像头</tspan></text>
    <rect
       style="fill:#00a4ff;fill-opacity:1;stroke:#00a0ff;stroke-width:0.360245;stroke-miterlimit:4;stroke-dasharray:none"
       id="rect846-6-6-2"
       width="75.673706"
       height="36.359631"
       x="-151.4921"
       y="82.9646" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:10.5833px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="-133.31253"
       y="106.14801"
       id="text5556"><tspan
         sodipodi:role="line"
         id="tspan5554"
         style="fill:#ffffff;fill-opacity:1;stroke-width:0.264583"
         x="-133.31253"
         y="106.14801">浏览器</tspan></text>
    <path
       style="fill:none;stroke:#ff0000;stroke-width:1.34317;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287-3)"
       d="m 36.152307,124.26064 9e-6,81.61552"
       id="path56886-1"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="38.931419"
       y="128.51984"
       id="text69976-0"><tspan
         sodipodi:role="line"
         id="tspan69974-7"
         style="fill:#ff0000;fill-opacity:1;stroke-width:0.132291"
         x="38.931419"
         y="128.51984">/zlmhook/on_play</tspan><tspan
         sodipodi:role="line"
         style="fill:#ff0000;fill-opacity:1;stroke-width:0.132291"
         x="38.931419"
         y="135.1344"
         id="tspan135688" /></text>
    <g
       id="g11769"
       transform="translate(-41.762705)">
      <path
         style="fill:none;stroke:#ff0000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287)"
         d="m -109.19044,216.53181 41.101084,-1e-5"
         id="path56886"
         sodipodi:nodetypes="cc" />
      <path
         style="fill:none;stroke:#eb14ef;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287)"
         d="m -109.90524,232.97225 41.815884,-0.35741"
         id="path56888"
         sodipodi:nodetypes="cc" />
      <path
         style="fill:none;stroke:#00ff00;stroke-width:3.92043;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Send)"
         d="m -109.83904,251.58241 38.617954,-0.39082"
         id="path56890"
         sodipodi:nodetypes="cc" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.132291"
         x="-58.189255"
         y="217.97293"
         id="text69976"><tspan
           sodipodi:role="line"
           id="tspan69974"
           style="fill:#ff0000;fill-opacity:1;stroke-width:0.132291"
           x="-58.189255"
           y="217.97293">webhook调用</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#eb14ef;fill-opacity:1;stroke:none;stroke-width:0.132291"
         x="-57.617447"
         y="234.38953"
         id="text69976-9"><tspan
           sodipodi:role="line"
           id="tspan69974-3"
           style="fill:#eb14ef;fill-opacity:1;stroke-width:0.132291"
           x="-57.617447"
           y="234.38953">zlm API 调用</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#00ff00;fill-opacity:1;stroke:none;stroke-width:0.132291"
         x="-56.902603"
         y="254.40398"
         id="text69976-1"><tspan
           sodipodi:role="line"
           id="tspan69974-5"
           style="fill:#00ff00;fill-opacity:1;stroke-width:0.132291"
           x="-56.902603"
           y="254.40398">视频流数据</tspan></text>
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#ff0000;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="94.626854"
       y="128.93748"
       id="text69976-0-0"><tspan
         sodipodi:role="line"
         style="fill:#ff0000;fill-opacity:1;stroke-width:0.132291"
         x="94.626854"
         y="128.93748"
         id="tspan135688-4">/zlmhook/on_stream_not_found</tspan></text>
    <path
       style="fill:none;stroke:#ff0000;stroke-width:1.34317;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287-3-0)"
       d="m 92.063976,124.36165 1e-5,81.61552"
       id="path56886-1-2"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#eb14ef;stroke-width:1.26243;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287-2)"
       d="m 195.77581,208.58913 -0.28345,-84.03378"
       id="path56888-2"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#eb14ef;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="200.51241"
       y="207.24117"
       id="text169"><tspan
         sodipodi:role="line"
         id="tspan167"
         style="fill:#eb14ef;fill-opacity:1;stroke-width:0.132291"
         x="200.51241"
         y="207.24117">addStreamProxy</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#583c3c;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="37.97879"
       y="139.54051"
       id="text4677"><tspan
         sodipodi:role="line"
         id="tspan4675"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="37.97879"
         y="139.54051">调用时机: 收到请求时</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="37.97879"
         y="146.28835"
         id="tspan8213">参数: user和token</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="37.97879"
         y="153.03618"
         id="tspan9151">返回: 鉴权成功或失败</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#583c3c;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="95.292"
       y="139.8732"
       id="text32042"><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="95.292"
         y="139.8732"
         id="tspan32040">调用时机: 流不存在</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="95.292"
         y="146.62103"
         id="tspan36751">参数: 位号</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="95.292"
         y="153.36887"
         id="tspan36753">返回: 启动流成功或失败</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#583c3c;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="200.43805"
       y="180.51649"
       id="text41749"><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="200.43805"
         y="180.51649"
         id="tspan46932">调用时机: </tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="200.43805"
         y="187.26433"
         id="tspan50668">收到on_stream_not_found回调</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="200.43805"
         y="194.01216"
         id="tspan52878">参数:</tspan><tspan
         sodipodi:role="line"
         style="fill:#897d7d;fill-opacity:1;stroke-width:0.132291"
         x="200.43805"
         y="200.75999"
         id="tspan54536">摄像头源地址</tspan></text>
    <path
       style="fill:none;stroke:#00d9ff;stroke-width:1.39598;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#marker57287)"
       d="m -69.260785,97.42142 85.560009,-1e-5"
       id="path157"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#e3d5d5;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="-66.73632"
       y="88.396477"
       id="text1874"><tspan
         sodipodi:role="line"
         style="fill:#e3d5d5;fill-opacity:1;stroke-width:0.132291"
         x="-66.73632"
         y="88.396477"
         id="tspan1872">请求视频流</tspan><tspan
         sodipodi:role="line"
         style="fill:#e3d5d5;fill-opacity:1;stroke-width:0.132291"
         x="-66.73632"
         y="95.14431"
         id="tspan2713">URL参数中携带user和token</tspan></text>
    <path
       style="fill:none;stroke:#00ff00;stroke-width:5.4827;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Send)"
       d="m 14.899464,112.39319 -75.52861,-0.39082"
       id="path7816"
       sodipodi:nodetypes="cc" />
    <path
       style="fill:none;stroke:#00ff00;stroke-width:3.92043;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;marker-end:url(#Arrow1Send)"
       d="m 260.67652,104.63651 -38.61795,-0.39082"
       id="path7818"
       sodipodi:nodetypes="cc" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#e3d5d5;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="234.48122"
       y="99.600563"
       id="text7824"><tspan
         sodipodi:role="line"
         style="fill:#e3d5d5;fill-opacity:1;stroke-width:0.132291"
         x="234.48122"
         y="99.600563"
         id="tspan7822">rtsp拉流</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:5.29165px;line-height:1.25;font-family:sans-serif;fill:#e3d5d5;fill-opacity:1;stroke:none;stroke-width:0.132291"
       x="-42.604443"
       y="121.5778"
       id="text9956"><tspan
         sodipodi:role="line"
         style="fill:#e3d5d5;fill-opacity:1;stroke-width:0.132291"
         x="-42.604443"
         y="121.5778"
         id="tspan9954">webRTC拉流</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-weight:normal;font-size:21.1666px;line-height:1.25;font-family:sans-serif;fill:#c6c5bf;fill-opacity:1;stroke:none;stroke-width:0.529165"
       x="22.708643"
       y="45.557564"
       id="text12758"><tspan
         sodipodi:role="line"
         id="tspan12756"
         style="fill:#c6c5bf;fill-opacity:1;stroke-width:0.529165"
         x="22.708643"
         y="45.557564">流媒体鉴权机制</tspan></text>
  </g>
</svg>
